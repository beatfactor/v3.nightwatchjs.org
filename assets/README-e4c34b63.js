(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();const F=r=>{try{return new URL(r),!0}catch{return!1}},P=(r=location)=>r.pathname+r.search+r.hash,C=r=>F(r)&&r.startsWith(location.origin)?P(new URL(r,location)):r,d=(r=location)=>typeof r=="string"?new URL(r,location):new URL(location),l="__$$PostDocClient$$NavigationManager",b="text/html",h={AfterTransition:"__$$after-transition",BeforeTransition:"__$$before-transition"},I=new DOMParser,m=new Set,O=(r,e)=>{throw new Error(`The navigation to the "${r}" fails with "${e}" status.`)},w=r=>{const e=document.createElement("script");return Array.from(r.attributes).forEach(({name:t,value:s})=>{e.setAttribute(t,t==="src"?C(s):s)}),e.append(document.createTextNode(r.textContent)),e},B=r=>{let e;const t=new Promise(s=>e=s);return r.addEventListener("load",function s(){e(),r==null||r.removeEventListener("load",s)}),r.addEventListener("error",function s(){r==null||r.removeEventListener("error",s)}),t},S=(r,e,t="deep")=>{const s=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT);let n;for(;n=s.nextNode();)(t==="deep"||r===n.parentNode)&&e(n)},_=r=>{const e=[],t=[],s=[];return S(r,n=>{T(n)?e.push(n):n.tagName==="SCRIPT"?N(n,o=>t.push(o)):(n.tagName==="NOSCRIPT"&&(n.textContent=n.innerHTML),s.push(n))},"shallow"),[e,t,s]},v=r=>r.tagName==="LINK"&&r.rel==="preconnect",T=r=>r.tagName==="LINK"&&r.rel==="stylesheet",N=(r,e,t)=>{const s=r.getAttribute("src");s&&!m.has(g(s))?(m.add(g(s)),e(w(r))):s?t==null||t(r):e(w(r))},E=(r,e)=>(t,s)=>{if(!t)return!1;const n=r(t);return n&&(e[s]=null),n},U=r=>{const e=[];return S(r,t=>{t.tagName==="SCRIPT"&&N(t,s=>e.push(()=>t.replaceWith(s)),s=>e.push(()=>s.remove()))}),[r,e]},R=/\.\.\//g,g=r=>r.replace(R,""),q=r=>(!m.size&&document.querySelectorAll("script[src]").forEach(s=>{const n=g(s.getAttribute("src"));m.add(n)}),fetch(r,{headers:{Accept:b}}).then(t=>t.ok?t.text():O(r,t.status)).then(async t=>{const s=I.parseFromString(t,b),n=document.adoptNode(s.head),o=document.adoptNode(s.body),[i,c,x]=_(n),p=[...document.head.children],y=i.filter(a=>!p.some(E(u=>T(u)&&a.href===u.href,p)));document.head.append(...y),await Promise.all(y.map(B)),Array.from(document.documentElement.attributes).forEach(({name:a})=>{const u=s.documentElement.getAttribute(a);u!==null?(document.documentElement.setAttribute(a,u),s.documentElement.removeAttribute(a)):document.documentElement.removeAttribute(a)}),Array.from(s.documentElement.attributes).forEach(({name:a,value:u})=>document.documentElement.setAttribute(a,u)),document.head.append(...c,...x.filter(a=>!(v(a)&&p.some(E(u=>v(u)&&a.href===u.href,p)))));const[A,k]=U(o);document.body.replaceWith(A),k.forEach(a=>a()),p.forEach(a=>{a&&a.remove()})})),f=(()=>{let r=[{url:d().href,index:0}],e=0;return addEventListener("load",()=>{const t=sessionStorage.getItem("history");if(t){const{stack:s,cursor:n}=JSON.parse(t);r=s,e=n}else sessionStorage.setItem("history",JSON.stringify({stack:r,cursor:e})),history.replaceState(r[0],r[0].url,r[0].url)}),{get stack(){return r},get cursor(){return e},set cursor(t){e=t,sessionStorage.setItem("history",JSON.stringify({stack:r,cursor:e}))},pushState(t,s,n,o=!0){e=r[r.length-1].index+1;const i={...t,index:e};r.push(i),sessionStorage.setItem("history",JSON.stringify({stack:r,cursor:e})),o&&history.pushState(i,s,n)},replaceState(t,s,n,o=!0){const i={...t,index:e};r[i.index]=i,sessionStorage.setItem("history",JSON.stringify({stack:r,cursor:e})),o&&history.replaceState(i,s,n)}}})(),L=()=>document.body.querySelectorAll("a[href]").forEach(r=>{const e=r.getAttribute("href");if(e&&r.host===location.host){if(r.setAttribute("data-link-internal",!0),e.startsWith("#"))return;r.addEventListener("click",async t=>{var s;if(t.preventDefault(),await globalThis[l].navigate(e),e.includes("#")){const n=r.hash.replace("#","");(s=document.querySelector(`[id="${n}"]`))==null||s.scrollIntoView();return}scrollTo(0,0),document.body.firstElementChild.focus()})}else r.setAttribute("data-link-external",!0)});if(!(l in globalThis)){const r=new Map([[h.AfterTransition,[]],[h.BeforeTransition,[]]]);window[l]={navigate:async(e,t=!1)=>{const s=d(e),n=d();await Promise.all(r.get(h.BeforeTransition).map(([o,{forPage:i,registeredOn:c}])=>{if(i instanceof RegExp&&i.test(n.href)||typeof i=="function"&&i(n)||!i&&c.pathname===n.pathname)return o(n,s)})),f[(t?"replace":"push")+"State"]({url:s.href},s.href,s.href),await q(s.pathname),L(),await Promise.all(r.get(h.AfterTransition).map(([o,{forPage:i,registeredOn:c}])=>{if(i instanceof RegExp&&i.test(s.href)||typeof i=="function"&&i(s)||!i&&c.pathname===s.pathname)return o(s)}))},registerEventListener:(e,t,s)=>{const n=d();return r.get(e).push([t,{...s,registeredOn:n}]),()=>void r.set(e,r.get(e).filter(([o])=>o!==t))}},addEventListener("popstate",({state:e})=>{const t=d();if(t.hash&&!e)return f.pushState({url:t.href},t.href,t.href,!1),f.replaceState({url:t.href},t.href,t.href);const s=f.stack[e.index].url;f.cursor=e.index,globalThis[l].navigate(s,!0)}),addEventListener("load",L)}const $=(r,e={})=>globalThis[l].registerEventListener(h.BeforeTransition,r,e),M=(r,e={})=>{const t=d(),{forPage:s}=e;return(s instanceof RegExp&&s.test(t.href)||typeof s=="function"&&s(t))&&r(t),globalThis[l].registerEventListener(h.AfterTransition,r,e)},j=r=>globalThis[l].navigate(r);class D{constructor(e,t){this.domNode=e,this.performMenuAction=t,this.buttonNode=e.querySelector("button"),this.menuNode=e.querySelector('[role="menu"]'),this.menuitemNodes=[],this.firstMenuitem=!1,this.lastMenuitem=!1,this.firstChars=[],this.buttonNode.addEventListener("keydown",this.onButtonKeydown.bind(this)),this.buttonNode.addEventListener("click",this.onButtonClick.bind(this));for(var s=e.querySelectorAll('[role="menuitem"]'),n=0;n<s.length;n++){var o=s[n];this.menuitemNodes.push(o),o.tabIndex=-1,this.firstChars.push(o.textContent.trim()[0].toLowerCase()),o.addEventListener("keydown",this.onMenuitemKeydown.bind(this)),o.addEventListener("click",this.onMenuitemClick.bind(this)),o.addEventListener("mouseover",this.onMenuitemMouseover.bind(this)),this.firstMenuitem||(this.firstMenuitem=o),this.lastMenuitem=o}e.addEventListener("focusin",this.onFocusin.bind(this)),e.addEventListener("focusout",this.onFocusout.bind(this)),window.addEventListener("mousedown",this.onBackgroundMousedown.bind(this),!0)}setFocusToMenuitem(e){this.menuitemNodes.forEach(function(t){t===e?(t.tabIndex=0,e.focus()):t.tabIndex=-1})}setFocusToFirstMenuitem(){this.setFocusToMenuitem(this.firstMenuitem)}setFocusToLastMenuitem(){this.setFocusToMenuitem(this.lastMenuitem)}setFocusToPreviousMenuitem(e){var t,s;return e===this.firstMenuitem?t=this.lastMenuitem:(s=this.menuitemNodes.indexOf(e),t=this.menuitemNodes[s-1]),this.setFocusToMenuitem(t),t}setFocusToNextMenuitem(e){var t,s;return e===this.lastMenuitem?t=this.firstMenuitem:(s=this.menuitemNodes.indexOf(e),t=this.menuitemNodes[s+1]),this.setFocusToMenuitem(t),t}setFocusByFirstCharacter(e,t){var s,n;t.length>1||(t=t.toLowerCase(),s=this.menuitemNodes.indexOf(e)+1,s>=this.menuitemNodes.length&&(s=0),n=this.firstChars.indexOf(t,s),n===-1&&(n=this.firstChars.indexOf(t,0)),n>-1&&this.setFocusToMenuitem(this.menuitemNodes[n]))}getIndexFirstChars(e,t){for(var s=e;s<this.firstChars.length;s++)if(t===this.firstChars[s])return s;return-1}openPopup(){this.menuNode.style.display="block",this.buttonNode.setAttribute("aria-expanded","true")}closePopup(){this.isOpen()&&(this.buttonNode.removeAttribute("aria-expanded"),this.menuNode.style.display="none")}isOpen(){return this.buttonNode.getAttribute("aria-expanded")==="true"}onFocusin(){this.domNode.classList.add("focus")}onFocusout(){this.domNode.classList.remove("focus")}onButtonKeydown(e){var t=e.key,s=!1;switch(t){case" ":case"Enter":case"ArrowDown":case"Down":this.openPopup(),this.setFocusToFirstMenuitem(),s=!0;break;case"Esc":case"Escape":this.closePopup(),s=!0;break;case"Up":case"ArrowUp":this.openPopup(),this.setFocusToLastMenuitem(),s=!0;break}s&&(e.stopPropagation(),e.preventDefault())}onButtonClick(e){this.isOpen()?(this.closePopup(),this.buttonNode.focus()):(this.openPopup(),this.setFocusToFirstMenuitem()),e.stopPropagation(),e.preventDefault()}onMenuitemKeydown(e){var t=e.currentTarget,s=e.key,n=!1;function o(i){return i.length===1&&i.match(/\S/)}if(!(e.ctrlKey||e.altKey||e.metaKey)){if(e.shiftKey)o(s)&&(this.setFocusByFirstCharacter(t,s),n=!0),e.key==="Tab"&&(this.buttonNode.focus(),this.closePopup(),n=!0);else switch(s){case" ":case"Enter":this.closePopup(),this.performMenuAction(t),this.buttonNode.focus(),n=!0;break;case"Esc":case"Escape":this.closePopup(),this.buttonNode.focus(),n=!0;break;case"Up":case"ArrowUp":this.setFocusToPreviousMenuitem(t),n=!0;break;case"ArrowDown":case"Down":this.setFocusToNextMenuitem(t),n=!0;break;case"Home":case"PageUp":this.setFocusToFirstMenuitem(),n=!0;break;case"End":case"PageDown":this.setFocusToLastMenuitem(),n=!0;break;case"Tab":this.closePopup();break;default:o(s)&&(this.setFocusByFirstCharacter(t,s),n=!0);break}n&&(e.stopPropagation(),e.preventDefault())}}onMenuitemClick(e){var t=e.currentTarget;this.closePopup(),this.buttonNode.focus(),this.performMenuAction(t)}onMenuitemMouseover(e){var t=e.currentTarget;t.focus()}onBackgroundMousedown(e){this.domNode.contains(e.target)||this.isOpen()&&(this.closePopup(),this.buttonNode.focus())}}function K(){var r=document.querySelectorAll(".release-button-action");function e(s){window.location.href=s.children[0].href}for(var t=0;t<r.length;t++)new D(r[t],e)}M(()=>{K()},{forPage:()=>!0});M(()=>{function r(s,n){const o=document.querySelector(s);o&&o.addEventListener("click",async function(){const i=document.querySelector(n);try{await navigator.clipboard.writeText(i.textContent),o.innerHTML="Copied!",o.classList.add("active")}catch(c){console.error("Failed to copy text: ",c)}setTimeout(()=>{o.innerHTML="Copy",o.classList.remove("active")},3e3)})}r(".hero__action-copy-command-button",".hero__action-copy-command-text"),r(".call-to-action-content-action-copy-command-button",".call-to-action-content-action-copy-command-text"),addScript("https://cdn.jsdelivr.net/npm/@docsearch/js@3","docsearch-script",function(){docsearch({appId:"H6WO0X38VS",indexName:"crawler_nightwatchjs_v3",container:"#docsearch",apiKey:"11a50b1fdb81a04d20cb9f0a711f9a69",transformItems:function(s){return s.map(function(n){return n.content||(n.content=n.url.replace("#apimethod-page","")),n.hierarchy&&!n.hierarchy.lvl1&&(n.hierarchy.lvl1=n.content.replace("https://nightwatchjs.org/",""),n.type="lvl1"),n})},debug:!1})}),window.matchMedia("(min-width: 769px)"),window.innerWidth<=768&&(addStylesheet("https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"),addScript("https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js",null,function(){const s=document.querySelector("#mobile-integration-content").innerText.trim(),n=document.querySelector(".integration__content");render(s,n),new Swiper(".integration-swiper",{spaceBetween:100,centeredSlides:!0,loop:!0,autoplay:{delay:5e3},pagination:{el:".swiper-pagination-integrations",clickable:!0},a11y:{enabled:!0}}),new Swiper(".swiper",{spaceBetween:100,centeredSlides:!0,loop:!0,autoplay:{delay:5e3},pagination:{el:".swiper-pagination",clickable:!0},a11y:{enabled:!0}})})),addScript("https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.0/gsap.min.js",null,function(){const s=document.getElementById("mobileMenuToggle"),n=document.getElementsByClassName("mobile-navbar-content")[0],o=document.getElementsByTagName("body")[0],i=document.getElementById("docsearch");var c=gsap.timeline({paused:!0});c.to(".bar-1",.5,{attr:{d:"M8,2 L2,8"},x:1,ease:Power2.easeInOut},"start"),c.to(".bar-2",.5,{autoAlpha:0},"start"),c.to(".bar-3",.5,{attr:{d:"M8,8 L2,2"},x:1,ease:Power2.easeInOut},"start"),c.reverse(),s.addEventListener("click",function(){c.reversed(!c.reversed()),n.classList.contains("active")?(TweenLite.fromTo(n,.3,{opacity:1},{opacity:0,display:"none"}),n.classList.remove("active")):(TweenLite.fromTo(n,.3,{opacity:0},{opacity:1,display:"block"}),n.classList.add("active")),o.classList.toggle("overflow-hidden"),i.classList.toggle("d-none")})});const e=document.querySelector(".footer__wrapper-inner-social-subscribe"),t=document.createElement("iframe");t.setAttribute("loading","lazy"),t.setAttribute("src","https://nightwatch.substack.com/embed"),t.setAttribute("width","80%"),t.setAttribute("height","125px"),t.setAttribute("style","position: relative;left: -11px;top: -20px;"),t.setAttribute("frameborder","0"),t.setAttribute("scrolling","no"),t.setAttribute("title","nightwatch-substack"),e.appendChild(t)},{forPage:()=>!0});export{$ as a,j as n,M as o};
