(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function e(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=e(o);fetch(o.href,r)}})();const k=n=>{try{return new URL(n),!0}catch{return!1}},P=(n=location)=>n.pathname+n.search+n.hash,C=n=>k(n)&&n.startsWith(location.origin)?P(new URL(n,location)):n,d=(n=location)=>typeof n=="string"?new URL(n,location):new URL(location),l="__$$PostDocClient$$NavigationManager",b="text/html",h={AfterTransition:"__$$after-transition",BeforeTransition:"__$$before-transition"},I=new DOMParser,m=new Set,O=(n,t)=>{throw new Error(`The navigation to the "${n}" fails with "${t}" status.`)},w=n=>{const t=document.createElement("script");return Array.from(n.attributes).forEach(({name:e,value:s})=>{t.setAttribute(e,e==="src"?C(s):s)}),t.append(document.createTextNode(n.textContent)),t},B=n=>{let t;const e=new Promise(s=>t=s);return n.addEventListener("load",function s(){t(),n==null||n.removeEventListener("load",s)}),n.addEventListener("error",function s(){n==null||n.removeEventListener("error",s)}),e},L=(n,t,e="deep")=>{const s=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT);let o;for(;o=s.nextNode();)(e==="deep"||n===o.parentNode)&&t(o)},U=n=>{const t=[],e=[],s=[];return L(n,o=>{T(o)?t.push(o):o.tagName==="SCRIPT"?M(o,r=>e.push(r)):(o.tagName==="NOSCRIPT"&&(o.textContent=o.innerHTML),s.push(o))},"shallow"),[t,e,s]},v=n=>n.tagName==="LINK"&&n.rel==="preconnect",T=n=>n.tagName==="LINK"&&n.rel==="stylesheet",M=(n,t,e)=>{const s=n.getAttribute("src");s&&!m.has(g(s))?(m.add(g(s)),t(w(n))):s?e==null||e(n):t(w(n))},E=(n,t)=>(e,s)=>{if(!e)return!1;const o=n(e);return o&&(t[s]=null),o},_=n=>{const t=[];return L(n,e=>{e.tagName==="SCRIPT"&&M(e,s=>t.push(()=>e.replaceWith(s)),s=>t.push(()=>s.remove()))}),[n,t]},R=/\.\.\//g,g=n=>n.replace(R,""),q=n=>(!m.size&&document.querySelectorAll("script[src]").forEach(s=>{const o=g(s.getAttribute("src"));m.add(o)}),fetch(n,{headers:{Accept:b}}).then(e=>e.ok?e.text():O(n,e.status)).then(async e=>{const s=I.parseFromString(e,b),o=document.adoptNode(s.head),r=document.adoptNode(s.body),[i,c,x]=U(o),p=[...document.head.children],y=i.filter(a=>!p.some(E(u=>T(u)&&a.href===u.href,p)));document.head.append(...y),await Promise.all(y.map(B)),Array.from(document.documentElement.attributes).forEach(({name:a})=>{const u=s.documentElement.getAttribute(a);u!==null?(document.documentElement.setAttribute(a,u),s.documentElement.removeAttribute(a)):document.documentElement.removeAttribute(a)}),Array.from(s.documentElement.attributes).forEach(({name:a,value:u})=>document.documentElement.setAttribute(a,u)),document.head.append(...c,...x.filter(a=>!(v(a)&&p.some(E(u=>v(u)&&a.href===u.href,p)))));const[A,F]=_(r);document.body.replaceWith(A),F.forEach(a=>a()),p.forEach(a=>{a&&a.remove()})})),f=(()=>{let n=[{url:d().href,index:0}],t=0;return addEventListener("load",()=>{const e=sessionStorage.getItem("history");if(e){const{stack:s,cursor:o}=JSON.parse(e);n=s,t=o}else sessionStorage.setItem("history",JSON.stringify({stack:n,cursor:t})),history.replaceState(n[0],n[0].url,n[0].url)}),{get stack(){return n},get cursor(){return t},set cursor(e){t=e,sessionStorage.setItem("history",JSON.stringify({stack:n,cursor:t}))},pushState(e,s,o,r=!0){t=n[n.length-1].index+1;const i={...e,index:t};n.push(i),sessionStorage.setItem("history",JSON.stringify({stack:n,cursor:t})),r&&history.pushState(i,s,o)},replaceState(e,s,o,r=!0){const i={...e,index:t};n[i.index]=i,sessionStorage.setItem("history",JSON.stringify({stack:n,cursor:t})),r&&history.replaceState(i,s,o)}}})(),S=()=>document.body.querySelectorAll("a[href]").forEach(n=>{const t=n.getAttribute("href");if(t&&n.host===location.host){if(n.setAttribute("data-link-internal",!0),t.startsWith("#"))return;n.addEventListener("click",async e=>{var s;if(e.preventDefault(),await globalThis[l].navigate(t),t.includes("#")){const o=n.hash.replace("#","");(s=document.querySelector(`[id="${o}"]`))==null||s.scrollIntoView();return}scrollTo(0,0),document.body.firstElementChild.focus()})}else n.setAttribute("data-link-external",!0)});if(!(l in globalThis)){const n=new Map([[h.AfterTransition,[]],[h.BeforeTransition,[]]]);window[l]={navigate:async(t,e=!1)=>{const s=d(t),o=d();await Promise.all(n.get(h.BeforeTransition).map(([r,{forPage:i,registeredOn:c}])=>{if(i instanceof RegExp&&i.test(o.href)||typeof i=="function"&&i(o)||!i&&c.pathname===o.pathname)return r(o,s)})),f[(e?"replace":"push")+"State"]({url:s.href},s.href,s.href),await q(s.pathname),S(),await Promise.all(n.get(h.AfterTransition).map(([r,{forPage:i,registeredOn:c}])=>{if(i instanceof RegExp&&i.test(s.href)||typeof i=="function"&&i(s)||!i&&c.pathname===s.pathname)return r(s)}))},registerEventListener:(t,e,s)=>{const o=d();return n.get(t).push([e,{...s,registeredOn:o}]),()=>void n.set(t,n.get(t).filter(([r])=>r!==e))}},addEventListener("popstate",({state:t})=>{const e=d();if(e.hash&&!t)return f.pushState({url:e.href},e.href,e.href,!1),f.replaceState({url:e.href},e.href,e.href);const s=f.stack[t.index].url;f.cursor=t.index,globalThis[l].navigate(s,!0)}),addEventListener("load",S)}const $=(n,t={})=>globalThis[l].registerEventListener(h.BeforeTransition,n,t),N=(n,t={})=>{const e=d(),{forPage:s}=t;return(s instanceof RegExp&&s.test(e.href)||typeof s=="function"&&s(e))&&n(e),globalThis[l].registerEventListener(h.AfterTransition,n,t)},j=n=>globalThis[l].navigate(n);class D{constructor(t,e){this.domNode=t,this.performMenuAction=e,this.buttonNode=t.querySelector("button"),this.menuNode=t.querySelector('[role="menu"]'),this.menuitemNodes=[],this.firstMenuitem=!1,this.lastMenuitem=!1,this.firstChars=[],this.buttonNode.addEventListener("keydown",this.onButtonKeydown.bind(this)),this.buttonNode.addEventListener("click",this.onButtonClick.bind(this));for(var s=t.querySelectorAll('[role="menuitem"]'),o=0;o<s.length;o++){var r=s[o];this.menuitemNodes.push(r),r.tabIndex=-1,this.firstChars.push(r.textContent.trim()[0].toLowerCase()),r.addEventListener("keydown",this.onMenuitemKeydown.bind(this)),r.addEventListener("click",this.onMenuitemClick.bind(this)),r.addEventListener("mouseover",this.onMenuitemMouseover.bind(this)),this.firstMenuitem||(this.firstMenuitem=r),this.lastMenuitem=r}t.addEventListener("focusin",this.onFocusin.bind(this)),t.addEventListener("focusout",this.onFocusout.bind(this)),window.addEventListener("mousedown",this.onBackgroundMousedown.bind(this),!0)}setFocusToMenuitem(t){this.menuitemNodes.forEach(function(e){e===t?(e.tabIndex=0,t.focus()):e.tabIndex=-1})}setFocusToFirstMenuitem(){this.setFocusToMenuitem(this.firstMenuitem)}setFocusToLastMenuitem(){this.setFocusToMenuitem(this.lastMenuitem)}setFocusToPreviousMenuitem(t){var e,s;return t===this.firstMenuitem?e=this.lastMenuitem:(s=this.menuitemNodes.indexOf(t),e=this.menuitemNodes[s-1]),this.setFocusToMenuitem(e),e}setFocusToNextMenuitem(t){var e,s;return t===this.lastMenuitem?e=this.firstMenuitem:(s=this.menuitemNodes.indexOf(t),e=this.menuitemNodes[s+1]),this.setFocusToMenuitem(e),e}setFocusByFirstCharacter(t,e){var s,o;e.length>1||(e=e.toLowerCase(),s=this.menuitemNodes.indexOf(t)+1,s>=this.menuitemNodes.length&&(s=0),o=this.firstChars.indexOf(e,s),o===-1&&(o=this.firstChars.indexOf(e,0)),o>-1&&this.setFocusToMenuitem(this.menuitemNodes[o]))}getIndexFirstChars(t,e){for(var s=t;s<this.firstChars.length;s++)if(e===this.firstChars[s])return s;return-1}openPopup(){this.menuNode.style.display="block",this.buttonNode.setAttribute("aria-expanded","true")}closePopup(){this.isOpen()&&(this.buttonNode.removeAttribute("aria-expanded"),this.menuNode.style.display="none")}isOpen(){return this.buttonNode.getAttribute("aria-expanded")==="true"}onFocusin(){this.domNode.classList.add("focus")}onFocusout(){this.domNode.classList.remove("focus")}onButtonKeydown(t){var e=t.key,s=!1;switch(e){case" ":case"Enter":case"ArrowDown":case"Down":this.openPopup(),this.setFocusToFirstMenuitem(),s=!0;break;case"Esc":case"Escape":this.closePopup(),s=!0;break;case"Up":case"ArrowUp":this.openPopup(),this.setFocusToLastMenuitem(),s=!0;break}s&&(t.stopPropagation(),t.preventDefault())}onButtonClick(t){this.isOpen()?(this.closePopup(),this.buttonNode.focus()):(this.openPopup(),this.setFocusToFirstMenuitem()),t.stopPropagation(),t.preventDefault()}onMenuitemKeydown(t){var e=t.currentTarget,s=t.key,o=!1;function r(i){return i.length===1&&i.match(/\S/)}if(!(t.ctrlKey||t.altKey||t.metaKey)){if(t.shiftKey)r(s)&&(this.setFocusByFirstCharacter(e,s),o=!0),t.key==="Tab"&&(this.buttonNode.focus(),this.closePopup(),o=!0);else switch(s){case" ":case"Enter":this.closePopup(),this.performMenuAction(e),this.buttonNode.focus(),o=!0;break;case"Esc":case"Escape":this.closePopup(),this.buttonNode.focus(),o=!0;break;case"Up":case"ArrowUp":this.setFocusToPreviousMenuitem(e),o=!0;break;case"ArrowDown":case"Down":this.setFocusToNextMenuitem(e),o=!0;break;case"Home":case"PageUp":this.setFocusToFirstMenuitem(),o=!0;break;case"End":case"PageDown":this.setFocusToLastMenuitem(),o=!0;break;case"Tab":this.closePopup();break;default:r(s)&&(this.setFocusByFirstCharacter(e,s),o=!0);break}o&&(t.stopPropagation(),t.preventDefault())}}onMenuitemClick(t){var e=t.currentTarget;this.closePopup(),this.buttonNode.focus(),this.performMenuAction(e)}onMenuitemMouseover(t){var e=t.currentTarget;e.focus()}onBackgroundMousedown(t){this.domNode.contains(t.target)||this.isOpen()&&(this.closePopup(),this.buttonNode.focus())}}function K(){var n=document.querySelectorAll(".release-button-action");function t(s){window.location.href=s.children[0].href}for(var e=0;e<n.length;e++)new D(n[e],t)}N(()=>{K()},{forPage:()=>!0});N(()=>{docReady(function(){function n(s,o){const r=document.querySelector(s);r&&r.addEventListener("click",async function(){const i=document.querySelector(o);try{await navigator.clipboard.writeText(i.textContent),r.innerHTML="Copied!",r.classList.add("active")}catch(c){console.error("Failed to copy text: ",c)}setTimeout(()=>{r.innerHTML="Copy",r.classList.remove("active")},3e3)})}n(".hero__action-copy-command-button",".hero__action-copy-command-text"),n(".call-to-action-content-action-copy-command-button",".call-to-action-content-action-copy-command-text"),addScript("https://cdn.jsdelivr.net/npm/@docsearch/js@3","docsearch-script",function(){docsearch({appId:"H6WO0X38VS",indexName:"crawler_nightwatchjs_v3",container:"#docsearch",apiKey:"11a50b1fdb81a04d20cb9f0a711f9a69",getMissingResultsUrl({query:s}){return`https://github.com/nightwatchjs/nightwatch-docs/issues/new?title=${s}`}})}),window.matchMedia("(min-width: 769px)"),window.innerWidth<=1024&&(addStylesheet("https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"),addScript("https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js",null,function(){const s=document.querySelector("#mobile-integration-content").innerText.trim(),o=document.querySelector(".integration__content");window.innerWidth<=480&&(render(s,o),new Swiper(".integration-swiper",{spaceBetween:100,centeredSlides:!0,loop:!0,autoplay:{delay:5e3},pagination:{el:".swiper-pagination-integrations",clickable:!0},a11y:{enabled:!0}})),new Swiper(".swiper",{spaceBetween:100,centeredSlides:!0,loop:!0,autoplay:{delay:5e3},pagination:{el:".swiper-pagination",clickable:!0},a11y:{enabled:!0}})})),addScript("https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.0/gsap.min.js",null,function(){const s=document.getElementById("mobileMenuToggle"),o=document.getElementsByClassName("mobile-navbar-content")[0],r=document.getElementsByTagName("body")[0],i=document.getElementById("docsearch");var c=gsap.timeline({paused:!0});c.to(".bar-1",.5,{attr:{d:"M8,2 L2,8"},x:1,ease:Power2.easeInOut},"start"),c.to(".bar-2",.5,{autoAlpha:0},"start"),c.to(".bar-3",.5,{attr:{d:"M8,8 L2,2"},x:1,ease:Power2.easeInOut},"start"),c.reverse(),s.addEventListener("click",function(){c.reversed(!c.reversed()),o.classList.contains("active")?(TweenLite.fromTo(o,.3,{opacity:1},{opacity:0,display:"none"}),o.classList.remove("active")):(TweenLite.fromTo(o,.3,{opacity:0},{opacity:1,display:"block"}),o.classList.add("active")),r.classList.toggle("overflow-hidden"),i.classList.toggle("d-none")})});const t=document.querySelector(".footer__wrapper-inner-social-subscribe"),e=document.createElement("iframe");e.setAttribute("loading","lazy"),e.setAttribute("src","https://nightwatch.substack.com/embed"),e.setAttribute("width","80%"),e.setAttribute("height","125px"),e.setAttribute("style","position: relative;left: -11px;top: -20px;"),e.setAttribute("frameborder","0"),e.setAttribute("scrolling","no"),e.setAttribute("title","nightwatch-substack"),t.appendChild(e),addScript("https://www.googletagmanager.com/gtm.js?id=GTM-MWC4FHS",null)})},{forPage:()=>!0});export{$ as a,j as n,N as o};
